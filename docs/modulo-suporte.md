# M√≥dulo de Suporte - Sistema ERP

## Vis√£o Geral

O m√≥dulo de suporte √© respons√°vel pelo gerenciamento completo de chamados t√©cnicos e solicita√ß√µes de suporte dentro do sistema ERP. Ele oferece uma solu√ß√£o integrada que permite aos usu√°rios abrir chamados, acompanhar o progresso em tempo real e √† equipe de suporte gerenciar eficientemente todas as demandas atrav√©s de interfaces web e APIs REST.

## Funcionalidades Principais

### 1. Gest√£o Completa de Chamados
- **Abertura de Chamados**: Interface web intuitiva e API REST para cria√ß√£o de novos chamados
- **Acompanhamento em Tempo Real**: Visualiza√ß√£o do status e progresso dos chamados
- **Categoriza√ß√£o Avan√ßada**: Organiza√ß√£o por tipo, prioridade e departamento
- **Hist√≥rico Completo**: Registro detalhado de todas as intera√ß√µes e mudan√ßas
- **Numera√ß√£o Autom√°tica**: Sistema de numera√ß√£o √∫nica para cada chamado

### 2. Sistema de Avalia√ß√µes
- **Avalia√ß√£o de Atendimento**: Notas de 1 a 5 estrelas para qualidade do atendimento
- **Coment√°rios Opcionais**: Feedback detalhado dos usu√°rios sobre a resolu√ß√£o
- **M√©tricas de Satisfa√ß√£o**: C√°lculo autom√°tico de nota m√©dia e taxa de satisfa√ß√£o
- **Dashboard de Qualidade**: Estat√≠sticas de avalia√ß√£o em tempo real
- **Relat√≥rios de Performance**: An√°lise de satisfa√ß√£o por t√©cnico e per√≠odo

### 3. Sistema de SLA (Service Level Agreement)
- **C√°lculo Autom√°tico**: Defini√ß√£o autom√°tica de prazos baseados na prioridade
- **Alertas Inteligentes**: Notifica√ß√µes para chamados pr√≥ximos ao vencimento
- **M√©tricas Avan√ßadas**: Acompanhamento de performance e cumprimento de SLAs
- **SLA M√©dio**: C√°lculo estat√≠stico do tempo m√©dio de resolu√ß√£o

### 4. Dashboard e Relat√≥rios Avan√ßados
- **Vis√£o Geral Executiva**: Dashboard com estat√≠sticas em tempo real
- **Gr√°ficos Interativos**: Visualiza√ß√£o de dados por status, prioridade e per√≠odo
- **Estat√≠sticas Detalhadas**: Contadores por status e prioridade
- **Relat√≥rios Export√°veis**: Dados estruturados para an√°lise externa
- **M√©tricas de Avalia√ß√£o**: Indicadores de satisfa√ß√£o e qualidade do atendimento

### 5. Gest√£o de Status e Workflow
- **Workflow Estruturado**: Fluxo bem definido de status dos chamados
- **Atribui√ß√£o de T√©cnicos**: Designa√ß√£o e controle de respons√°veis
- **Atualiza√ß√µes Controladas**: Registro sistem√°tico de progresso e solu√ß√µes
- **APIs de Atualiza√ß√£o**: Endpoints REST para mudan√ßas de status

### 6. Integra√ß√£o e APIs
- **API REST Completa**: Endpoints para todas as opera√ß√µes CRUD
- **Autentica√ß√£o Integrada**: Sistema de login e controle de acesso
- **Formato JSON**: Comunica√ß√£o padronizada via JSON
- **Tratamento de Erros**: Respostas estruturadas com c√≥digos HTTP apropriados

## Estrutura T√©cnica

### Entidades

#### Estrutura da Entidade Chamado

```java
@Entity
@Data
@Table(name = "chamados")
public class Chamado {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    @Column(name = "numero", unique = true, nullable = false)
    private String numero;           // N√∫mero √∫nico do chamado
    
    @NotBlank(message = "Assunto √© obrigat√≥rio")
    @Size(min = 5, max = 200, message = "Assunto deve ter entre 5 e 200 caracteres")
    @Column(name = "assunto", nullable = false)
    private String assunto;          // T√≠tulo/assunto do chamado
    
    @NotBlank(message = "Descri√ß√£o √© obrigat√≥ria")
    @Size(min = 10, message = "Descri√ß√£o deve ter pelo menos 10 caracteres")
    @Column(name = "descricao", nullable = false, columnDefinition = "TEXT")
    private String descricao;        // Descri√ß√£o detalhada
    
    @NotNull(message = "Prioridade √© obrigat√≥ria")
    @Enumerated(EnumType.STRING)
    @Column(name = "prioridade", nullable = false)
    private Prioridade prioridade;   // N√≠vel de prioridade
    
    @NotNull(message = "Status √© obrigat√≥rio")
    @Enumerated(EnumType.STRING)
    @Column(name = "status", nullable = false)
    private StatusChamado status = StatusChamado.ABERTO;    // Status atual
    
    @Column(name = "data_abertura", nullable = false)
    private LocalDateTime dataAbertura;
    
    @Column(name = "data_inicio_atendimento")
    private LocalDateTime dataInicioAtendimento;
    
    @Column(name = "data_resolucao")
    private LocalDateTime dataResolucao;
    
    @Column(name = "data_fechamento")
    private LocalDateTime dataFechamento;
    
    @Column(name = "sla_vencimento")
    private LocalDateTime slaVencimento;
    
    @Column(name = "tecnico_responsavel")
    private String tecnicoResponsavel;
    
    @Column(name = "solicitante_nome")
    private String solicitanteNome;
    
    @Column(name = "solicitante_email")
    private String solicitanteEmail;
    
    @Column(name = "categoria")
    private String categoria;
    
    @Column(name = "subcategoria")
    private String subcategoria;
    
    @Column(name = "tempo_resolucao_minutos")
    private Integer tempoResolucaoMinutos;
    
    // Campos de avalia√ß√£o
    @Column(name = "avaliacao")
    private Integer avaliacao;       // Nota de 1 a 5 estrelas
    
    @Column(name = "comentario_avaliacao", columnDefinition = "TEXT")
    private String comentarioAvaliacao; // Coment√°rio opcional do usu√°rio
    
    @Column(name = "observacoes", columnDefinition = "TEXT")
    private String observacoes;
    
    private LocalDateTime dataInicio; // Campo adicional para controle
    
    // Campo transiente para SLA restante (calculado dinamicamente)
    @Transient
    private Long slaRestante;        // SLA restante em horas
}
```

#### Enums

**Prioridade**
- `BAIXA("Baixa", 72)`: 72 horas √∫teis
- `MEDIA("M√©dia", 48)`: 48 horas √∫teis  
- `ALTA("Alta", 24)`: 24 horas √∫teis
- `URGENTE("Urgente", 8)`: 8 horas √∫teis

**StatusChamado**
- `ABERTO("Aberto")`: Chamado criado, aguardando atendimento
- `EM_ANDAMENTO("Em Andamento")`: Chamado sendo atendido
- `RESOLVIDO("Resolvido")`: Chamado resolvido, aguardando confirma√ß√£o
- `FECHADO("Fechado")`: Chamado finalizado

### Servi√ßos

#### ChamadoService.java

**M√©todos Principais:**

```java
// C√°lculo de SLA restante baseado na prioridade
public Long calcularSlaRestante(Chamado chamado)

// C√°lculo do tempo m√©dio de resolu√ß√£o
public Double calcularSlaMedio()

// Opera√ß√µes CRUD
public Chamado criarChamado(Chamado chamado)
public Optional<Chamado> buscarPorId(Long id)
public List<Chamado> listarTodos()

// Mudan√ßas de status
public Chamado iniciarAtendimento(Long id, String tecnico)
public Chamado resolverChamado(Long id)
public Chamado fecharChamado(Long id)

// Consultas especializadas
public List<Chamado> buscarChamadosComSlaVencido()
public List<Chamado> buscarChamadosComSlaProximoVencimento()
```

### Reposit√≥rio

#### ChamadoRepository.java

**Queries Principais:**

```java
// Estat√≠sticas para dashboard
@Query("SELECT AVG(TIMESTAMPDIFF(HOUR, c.dataAbertura, c.dataResolucao)) FROM Chamado c WHERE c.status IN ('RESOLVIDO', 'FECHADO')")
Double calcularTempoMedioResolucaoEmHoras();

// Chamados com SLA cr√≠tico
@Query("SELECT c FROM Chamado c WHERE c.status IN ('ABERTO', 'EM_ANDAMENTO') AND ...")
List<Chamado> findChamadosComSlaVencido();

// Agrupamentos para gr√°ficos
@Query("SELECT c.prioridade, COUNT(c) FROM Chamado c GROUP BY c.prioridade")
List<Object[]> countByPrioridadeGrouped();
```

### Controller

#### SuporteController.java

**Endpoints:**

- `GET /suporte` - Dashboard principal
- `GET /suporte/chamados` - Lista de chamados
- `GET /suporte/chamados/{id}` - Visualizar chamado espec√≠fico
- `GET /suporte/novo` - Formul√°rio de novo chamado
- `POST /suporte/novo` - Criar novo chamado
- `POST /suporte/chamados/{id}/status` - Atualizar status
- `GET /suporte/api/prioridades` - Dados para gr√°fico de prioridades
- `GET /suporte/api/status` - Dados para gr√°fico de status

## Regras de SLA

### Defini√ß√£o de Horas √öteis
- **Dias**: Segunda a Sexta-feira
- **Hor√°rio**: 8h √†s 18h
- **Feriados**: N√£o contabilizados

### C√°lculo do SLA
1. **In√≠cio**: Data/hora de abertura do chamado
2. **Prazo**: Baseado na prioridade (em horas √∫teis)
3. **Contagem**: Apenas horas √∫teis s√£o consideradas
4. **Status**: Calculado dinamicamente a cada consulta

### Indicadores Visuais
- üü¢ **Verde**: SLA dentro do prazo (> 4h restantes)
- üü° **Amarelo**: SLA pr√≥ximo do vencimento (‚â§ 4h restantes)
- üî¥ **Vermelho**: SLA vencido (‚â§ 0h)

## Interface do Usu√°rio

### Dashboard Principal
- **Cards de Resumo**: Chamados abertos, em andamento, resolvidos e SLA m√©dio
- **Gr√°ficos**: Distribui√ß√£o por prioridade e status
- **Tabela**: √öltimos 10 chamados com indicadores de SLA
- **Bot√£o Flutuante**: Acesso r√°pido para abertura de chamados

### Funcionalidades da Interface
- **Atualiza√ß√£o Autom√°tica**: Dados atualizados em tempo real
- **Filtros**: Por status, prioridade, t√©cnico
- **A√ß√µes R√°pidas**: Visualizar, editar, alterar status
- **Responsividade**: Interface adapt√°vel para diferentes dispositivos

## Tecnologias Utilizadas

- **Backend**: Spring Boot, JPA/Hibernate
- **Frontend**: Thymeleaf, Bootstrap 5, Chart.js
- **Banco de Dados**: MySQL (queries otimizadas)
- **Valida√ß√£o**: Bean Validation (JSR-303)
- **Logging**: SLF4J + Logback

## Configura√ß√£o e Instala√ß√£o

### 1. Banco de Dados
```sql
-- A tabela ser√° criada automaticamente pelo JPA
-- Configurar no application.properties:
spring.jpa.hibernate.ddl-auto=update
```

### 2. Depend√™ncias Maven
```xml
<!-- J√° inclu√≠das no projeto principal -->
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-web</artifactId>
</dependency>
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-data-jpa</artifactId>
</dependency>
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-thymeleaf</artifactId>
</dependency>
```

### 3. Configura√ß√µes
```properties
# Configura√ß√µes espec√≠ficas do m√≥dulo (se necess√°rio)
suporte.sla.horario-inicio=8
suporte.sla.horario-fim=18
suporte.dashboard.limite-chamados=10
```

## Uso e Opera√ß√£o

### Fluxo T√≠pico de um Chamado

1. **Abertura**
   - Usu√°rio acessa `/suporte/novo`
   - Preenche formul√°rio com assunto, descri√ß√£o e prioridade
   - Sistema gera n√∫mero √∫nico e calcula SLA

2. **Atendimento**
   - T√©cnico visualiza chamado no dashboard
   - Inicia atendimento (status: EM_ANDAMENTO)
   - Adiciona observa√ß√µes conforme necess√°rio

3. **Resolu√ß√£o**
   - T√©cnico marca como RESOLVIDO
   - Sistema registra data/hora de resolu√ß√£o
   - SLA √© recalculado para estat√≠sticas

4. **Fechamento**
   - Solicitante confirma resolu√ß√£o
   - Chamado √© marcado como FECHADO
   - M√©tricas s√£o atualizadas

### Monitoramento de SLA

- **Dashboard**: Visualiza√ß√£o em tempo real
- **Alertas**: Chamados pr√≥ximos do vencimento
- **Relat√≥rios**: M√©tricas de performance da equipe
- **Hist√≥rico**: An√°lise de tend√™ncias e melhorias

## Manuten√ß√£o e Evolu√ß√£o

### Logs e Monitoramento
- Logs detalhados de todas as opera√ß√µes
- M√©tricas de performance do sistema
- Alertas para falhas ou problemas

### Poss√≠veis Melhorias Futuras
- **Notifica√ß√µes**: Email/SMS para alertas de SLA
- **Integra√ß√£o**: APIs para sistemas externos
- **Relat√≥rios**: Dashboards avan√ßados com BI
- **Automa√ß√£o**: Regras de atribui√ß√£o autom√°tica
- **Chat**: Sistema de comunica√ß√£o em tempo real
- **Base de Conhecimento**: FAQ e documenta√ß√£o
- **Satisfa√ß√£o**: Pesquisas de satisfa√ß√£o do cliente

## Casos de Uso

### Caso de Uso 1: Abertura de Chamado pelo Usu√°rio

**Ator Principal**: Usu√°rio do Sistema
**Objetivo**: Registrar uma solicita√ß√£o de suporte

**Fluxo Principal**:
1. Usu√°rio acessa o sistema ERP
2. Navega para o m√≥dulo de Suporte (`/suporte`)
3. Clica em "Novo Chamado" ou acessa diretamente `/suporte/novo`
4. Preenche o formul√°rio com:
    - Assunto (obrigat√≥rio)
    - Descri√ß√£o detalhada (obrigat√≥rio)
    - Prioridade (BAIXA, MEDIA, ALTA, CRITICA)
    - Email para contato (opcional)
5. Submete o formul√°rio
6. Sistema gera n√∫mero √∫nico do chamado (formato: CHM-YYYYMMDDHHMMSS)
7. Sistema calcula SLA baseado na prioridade
8. Chamado √© criado com status "ABERTO"
9. Usu√°rio √© redirecionado para visualiza√ß√£o do chamado

**Fluxos Alternativos**:
- **3a**: Usu√°rio pode criar chamado via API REST (`POST /api/chamados`)
- **5a**: Se dados inv√°lidos, sistema exibe erros de valida√ß√£o
- **5b**: Se erro no servidor, usu√°rio √© redirecionado com mensagem de erro

### Caso de Uso 2: Atendimento de Chamado pelo T√©cnico

**Ator Principal**: T√©cnico de Suporte
**Objetivo**: Processar e resolver chamado

**Fluxo Principal**:
1. T√©cnico acessa dashboard de suporte (`/suporte`)
2. Visualiza chamados abertos na tabela
3. Seleciona chamado para atendimento
4. Clica em "Iniciar Atendimento"
5. Sistema atualiza status para "EM_ANDAMENTO"
6. Sistema registra t√©cnico respons√°vel
7. T√©cnico trabalha na resolu√ß√£o
8. Ao finalizar, clica em "Resolver Chamado"
9. Sistema atualiza status para "RESOLVIDO"
10. Sistema registra data/hora da resolu√ß√£o

**Fluxos Alternativos**:
- **4a**: T√©cnico pode atualizar status via API (`PUT /api/chamados/{id}/status`)
- **8a**: T√©cnico pode adicionar observa√ß√µes antes de resolver
- **10a**: Cliente pode reabrir chamado se n√£o satisfeito

### Caso de Uso 3: Monitoramento de SLA

**Ator Principal**: Gestor de Suporte
**Objetivo**: Acompanhar performance e cumprimento de SLAs

**Fluxo Principal**:
1. Gestor acessa dashboard principal (`/suporte`)
2. Visualiza estat√≠sticas em tempo real:
   - Total de chamados abertos
   - Chamados em andamento
   - Chamados resolvidos
   - SLA m√©dio
3. Analisa gr√°ficos de distribui√ß√£o por prioridade e status
4. Verifica chamados com SLA cr√≠tico
5. Identifica gargalos e oportunidades de melhoria

**Fluxos Alternativos**:
- **2a**: Gestor pode acessar estat√≠sticas via API (`GET /api/chamados/estatisticas`)
- **4a**: Sistema pode enviar alertas autom√°ticos para SLAs pr√≥ximos do vencimento

## Fluxograma do Sistema

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   USU√ÅRIO       ‚îÇ
‚îÇ   ACESSA        ‚îÇ
‚îÇ   SISTEMA       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   DASHBOARD     ‚îÇ
‚îÇ   SUPORTE       ‚îÇ
‚îÇ   /suporte      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   NOVO CHAMADO  ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ   LISTAR        ‚îÇ
‚îÇ   /suporte/novo ‚îÇ      ‚îÇ   CHAMADOS      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ   /suporte/     ‚îÇ
          ‚îÇ              ‚îÇ   chamados      ‚îÇ
          ‚ñº              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   PREENCHER     ‚îÇ
‚îÇ   FORMUL√ÅRIO    ‚îÇ
‚îÇ   - Assunto     ‚îÇ
‚îÇ   - Descri√ß√£o   ‚îÇ
‚îÇ   - Prioridade  ‚îÇ
‚îÇ   - Email       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   VALIDA√á√ÉO     ‚îÇ
‚îÇ   DADOS         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
      ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îê
      ‚îÇ V√ÅLIDO‚îÇ
      ‚îÇ   ?   ‚îÇ
      ‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ    SIM    ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   CRIAR         ‚îÇ
‚îÇ   CHAMADO       ‚îÇ
‚îÇ   - Gerar N¬∫    ‚îÇ
‚îÇ   - Calcular    ‚îÇ
‚îÇ     SLA         ‚îÇ
‚îÇ   - Status:     ‚îÇ
‚îÇ     ABERTO      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   SALVAR NO     ‚îÇ
‚îÇ   BANCO DE      ‚îÇ
‚îÇ   DADOS         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   VISUALIZAR    ‚îÇ
‚îÇ   CHAMADO       ‚îÇ
‚îÇ   CRIADO        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   T√âCNICO       ‚îÇ
‚îÇ   VISUALIZA     ‚îÇ
‚îÇ   CHAMADOS      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   INICIAR       ‚îÇ
‚îÇ   ATENDIMENTO   ‚îÇ
‚îÇ   Status:       ‚îÇ
‚îÇ   EM_ANDAMENTO  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   TRABALHAR     ‚îÇ
‚îÇ   NA SOLU√á√ÉO    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   RESOLVER      ‚îÇ
‚îÇ   CHAMADO       ‚îÇ
‚îÇ   Status:       ‚îÇ
‚îÇ   RESOLVIDO     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   FECHAR        ‚îÇ
‚îÇ   CHAMADO       ‚îÇ
‚îÇ   Status:       ‚îÇ
‚îÇ   FECHADO       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## Estados e Transi√ß√µes

### Estados do Chamado

1. **ABERTO**: Chamado criado, aguardando atendimento
2. **EM_ANDAMENTO**: T√©cnico iniciou o atendimento
3. **RESOLVIDO**: Solu√ß√£o implementada, aguardando confirma√ß√£o
4. **FECHADO**: Chamado finalizado definitivamente

### Transi√ß√µes Permitidas

```
 ABERTO ‚Üí EM_ANDAMENTO (T√©cnico inicia atendimento)
 EM_ANDAMENTO ‚Üí RESOLVIDO (T√©cnico resolve)
 RESOLVIDO ‚Üí FECHADO (Confirma√ß√£o da resolu√ß√£o)
 RESOLVIDO ‚Üí EM_ANDAMENTO (Reabertura por insatisfa√ß√£o)
 EM_ANDAMENTO ‚Üí ABERTO (Retorno para fila)
 ```

### C√°lculo de SLA

**Prioridades e Tempos**:
 - **CRITICA**: 2 horas
 - **ALTA**: 4 horas  
 - **MEDIA**: 8 horas
 - **BAIXA**: 24 horas
 
 **F√≥rmula**: `SLA Restante = Prazo SLA - (Tempo Atual - Data Cria√ß√£o)`

## APIs REST Dispon√≠veis

### Endpoints de Consulta
- `GET /api/chamados` - Lista todos os chamados
- `GET /api/chamados/{id}` - Busca chamado por ID
- `GET /api/chamados/numero/{numero}` - Busca por n√∫mero
- `GET /api/chamados/abertos` - Lista chamados abertos
- `GET /api/chamados/em-andamento` - Lista chamados em andamento
- `GET /api/chamados/resolvidos` - Lista chamados resolvidos
- `GET /api/chamados/estatisticas` - Estat√≠sticas gerais
- `GET /api/avaliacoes-atendimento` - M√©tricas de avalia√ß√£o dos chamados
- `GET /suporte/api/evolucao-chamados` - Dados para gr√°fico de evolu√ß√£o de chamados
- `GET /suporte/chamados/{id}/json` - Busca dados de um chamado em formato JSON
- `GET /suporte/test` - Endpoint de teste para verificar funcionamento do servidor
- `POST /api/chamados/{id}/avaliacao` - Permite avaliar um chamado resolvido ou fechado

### Endpoints de Modifica√ß√£o
- `POST /api/chamados` - Cria novo chamado
- `PUT /api/chamados/{id}/status` - Atualiza status
- `POST /suporte/chamados/{id}/status` - Atualiza status de um chamado espec√≠fico via web

### Endpoints Web
- `GET /suporte` - Dashboard principal
- `GET /suporte/chamados` - Lista de chamados
- `GET /suporte/novo` - Formul√°rio de novo chamado
- `POST /suporte/chamados/novo` - Processa cria√ß√£o de chamado
- `GET /suporte/chamados/{id}` - Visualiza chamado espec√≠fico
- `GET /suporte/chamados/{id}/avaliar` - P√°gina para avaliar chamado resolvido
- `GET /suporte/chamados/{id}/debug` - P√°gina de debug para desenvolvimento
- `GET /suporte/teste-chamado` - P√°gina de teste para novo chamado
- `GET /suporte/teste-simples` - Template simplificado de teste
- `GET /suporte/novo-simples` - Formul√°rio simplificado de novo chamado
- `POST /suporte/chamados/{id}/status` - Atualiza status via web

## Troubleshooting

### Problemas Comuns

1. **SLA n√£o calculado corretamente**
   - Verificar configura√ß√£o de hor√°rio comercial
   - Validar c√°lculo de horas √∫teis
   - Conferir timezone do servidor

2. **Dashboard n√£o carrega dados**
   - Verificar conex√£o com banco de dados
   - Validar queries do repository
   - Conferir logs de erro

3. **Performance lenta**
   - Otimizar queries com √≠ndices
   - Implementar cache para consultas frequentes
   - Revisar pagina√ß√£o de resultados

4. **API retorna erro 500**
   - Verificar autentica√ß√£o
   - Confirmar formato JSON da requisi√ß√£o
   - Verificar logs do controller

### Logs Importantes

```bash
# Verificar logs do m√≥dulo
tail -f logs/application.log | grep "ChamadoService\|SuporteController"

# Verificar erros de banco
tail -f logs/application.log | grep "ERROR.*Chamado"

# Verificar requisi√ß√µes API
tail -f logs/application.log | grep "API"
```

### Comandos √öteis

```sql
-- Verificar chamados no banco
SELECT * FROM chamados ORDER BY data_abertura DESC LIMIT 10;

-- Estat√≠sticas r√°pidas
SELECT status, COUNT(*) FROM chamados GROUP BY status;

-- Chamados com SLA vencido
SELECT * FROM chamados WHERE sla_restante < 0;

-- Chamados por prioridade
SELECT prioridade, COUNT(*) FROM chamados GROUP BY prioridade;
```

### Testes de API

```bash
# Testar cria√ß√£o de chamado
curl -X POST http://localhost:8080/api/chamados \
  -H "Content-Type: application/json" \
  -d '{"assunto":"Teste API","descricao":"Teste via curl","prioridade":"MEDIA"}'

# Listar chamados
curl http://localhost:8080/api/chamados

# Buscar chamado espec√≠fico
curl http://localhost:8080/api/chamados/1

# Atualizar status
curl -X PUT http://localhost:8080/api/chamados/1/status?status=EM_ANDAMENTO&tecnicoResponsavel=Jo√£o
```

### Contatos de Suporte
- **Desenvolvedor**: Equipe de TI
- **Administrador**: Gestor de TI
- **Usu√°rios**: Help Desk interno

---

**Vers√£o**: 1.0  
**Data**: Setembro 2024  
**Autor**: Sistema ERP - M√≥dulo de Suporte  
**Status**: Implementado e Funcional