<svg width="1200" height="900" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 20px; font-weight: bold; fill: #2c3e50; }
      .subtitle { font-family: Arial, sans-serif; font-size: 14px; fill: #34495e; }
      .box { fill: #ecf0f1; stroke: #34495e; stroke-width: 2; rx: 8; }
      .process { fill: #3498db; stroke: #2980b9; stroke-width: 2; rx: 8; }
      .decision { fill: #f39c12; stroke: #e67e22; stroke-width: 2; }
      .notification { fill: #e74c3c; stroke: #c0392b; stroke-width: 2; rx: 8; }
      .email { fill: #9b59b6; stroke: #8e44ad; stroke-width: 2; rx: 8; }
      .sound { fill: #1abc9c; stroke: #16a085; stroke-width: 2; rx: 8; }
      .end { fill: #27ae60; stroke: #229954; stroke-width: 2; rx: 8; }
      .text { font-family: Arial, sans-serif; font-size: 11px; fill: white; text-anchor: middle; }
      .text-dark { font-family: Arial, sans-serif; font-size: 11px; fill: #2c3e50; text-anchor: middle; }
      .arrow { stroke: #34495e; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .arrow-yes { stroke: #27ae60; stroke-width: 2; fill: none; marker-end: url(#arrowhead-green); }
      .arrow-no { stroke: #e74c3c; stroke-width: 2; fill: none; marker-end: url(#arrowhead-red); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#34495e" />
    </marker>
    <marker id="arrowhead-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#27ae60" />
    </marker>
    <marker id="arrowhead-red" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#e74c3c" />
    </marker>
  </defs>

  <!-- Título -->
  <text x="600" y="30" class="title">Sistema de Notificações - Solicitações de Acesso</text>
  <text x="600" y="50" class="subtitle">Fluxo Completo com E-mail, Notificações do Sistema e Sons</text>

  <!-- Início -->
  <rect x="50" y="80" width="120" height="50" class="box"/>
  <text x="110" y="100" class="text-dark">Usuário Solicita</text>
  <text x="110" y="115" class="text-dark">Acesso</text>

  <!-- Processamento da Solicitação -->
  <rect x="220" y="80" width="140" height="50" class="process"/>
  <text x="290" y="100" class="text">SolicitacaoAcessoService</text>
  <text x="290" y="115" class="text">.criarSolicitacao()</text>

  <!-- Salvar no Banco -->
  <rect x="410" y="80" width="120" height="50" class="process"/>
  <text x="470" y="100" class="text">Salvar Solicitação</text>
  <text x="470" y="115" class="text">no Banco</text>

  <!-- Notificação para Administradores -->
  <rect x="580" y="80" width="140" height="50" class="notification"/>
  <text x="650" y="95" class="text">Notificação Sistema</text>
  <text x="650" y="108" class="text">para Administradores</text>
  <text x="650" y="121" class="text">(Prioridade ALTA)</text>

  <!-- E-mail para Administradores -->
  <rect x="770" y="80" width="120" height="50" class="email"/>
  <text x="830" y="100" class="text">E-mail para</text>
  <text x="830" y="115" class="text">Administradores</text>

  <!-- Som de Notificação -->
  <rect x="940" y="80" width="120" height="50" class="sound"/>
  <text x="1000" y="100" class="text">Som de Notificação</text>
  <text x="1000" y="115" class="text">(Prioridade ALTA)</text>

  <!-- Decisão do Administrador -->
  <polygon points="470,200 520,230 470,260 420,230" class="decision"/>
  <text x="470" y="235" class="text">Decisão do</text>
  <text x="470" y="248" class="text">Administrador</text>

  <!-- Fluxo de Aprovação -->
  <rect x="200" y="320" width="140" height="50" class="process"/>
  <text x="270" y="335" class="text">SolicitacaoAcessoService</text>
  <text x="270" y="348" class="text">.aprovarSolicitacao()</text>
  <text x="270" y="361" class="text">(Criar Usuário)</text>

  <!-- Notificação de Aprovação -->
  <rect x="50" y="420" width="120" height="50" class="notification"/>
  <text x="110" y="435" class="text">Notificação Sistema</text>
  <text x="110" y="448" class="text">para Solicitante</text>
  <text x="110" y="461" class="text">(Prioridade MÉDIA)</text>

  <!-- E-mail de Aprovação -->
  <rect x="200" y="420" width="120" height="50" class="email"/>
  <text x="260" y="435" class="text">E-mail de</text>
  <text x="260" y="448" class="text">Aprovação com</text>
  <text x="260" y="461" class="text">Credenciais</text>

  <!-- Som de Aprovação -->
  <rect x="350" y="420" width="120" height="50" class="sound"/>
  <text x="410" y="440" class="text">Som de Notificação</text>
  <text x="410" y="455" class="text">(Prioridade MÉDIA)</text>

  <!-- Fluxo de Rejeição -->
  <rect x="620" y="320" width="140" height="50" class="process"/>
  <text x="690" y="335" class="text">SolicitacaoAcessoService</text>
  <text x="690" y="348" class="text">.rejeitarSolicitacao()</text>
  <text x="690" y="361" class="text">(Atualizar Status)</text>

  <!-- Notificação de Rejeição -->
  <rect x="820" y="420" width="120" height="50" class="notification"/>
  <text x="880" y="435" class="text">Notificação Sistema</text>
  <text x="880" y="448" class="text">para Solicitante</text>
  <text x="880" y="461" class="text">(Prioridade BAIXA)</text>

  <!-- E-mail de Rejeição -->
  <rect x="970" y="420" width="120" height="50" class="email"/>
  <text x="1030" y="435" class="text">E-mail de</text>
  <text x="1030" y="448" class="text">Rejeição com</text>
  <text x="1030" y="461" class="text">Motivo</text>

  <!-- Som de Rejeição -->
  <rect x="1120" y="420" width="120" height="50" class="sound"/>
  <text x="1180" y="440" class="text">Som de Notificação</text>
  <text x="1180" y="455" class="text">(Prioridade BAIXA)</text>

  <!-- Fim Aprovação -->
  <rect x="200" y="520" width="120" height="50" class="end"/>
  <text x="260" y="540" class="text">Usuário Criado</text>
  <text x="260" y="555" class="text">com Sucesso</text>

  <!-- Fim Rejeição -->
  <rect x="970" y="520" width="120" height="50" class="end"/>
  <text x="1030" y="540" class="text">Solicitação</text>
  <text x="1030" y="555" class="text">Rejeitada</text>

  <!-- Setas do fluxo principal -->
  <line x1="170" y1="105" x2="220" y2="105" class="arrow"/>
  <line x1="360" y1="105" x2="410" y2="105" class="arrow"/>
  <line x1="530" y1="105" x2="580" y2="105" class="arrow"/>
  <line x1="720" y1="105" x2="770" y2="105" class="arrow"/>
  <line x1="890" y1="105" x2="940" y2="105" class="arrow"/>

  <!-- Seta para decisão -->
  <line x1="470" y1="130" x2="470" y2="200" class="arrow"/>

  <!-- Setas de aprovação -->
  <line x1="420" y1="230" x2="340" y2="230" class="arrow-yes"/>
  <line x1="340" y1="230" x2="340" y2="280" class="arrow-yes"/>
  <line x1="340" y1="280" x2="270" y2="280" class="arrow-yes"/>
  <line x1="270" y1="280" x2="270" y2="320" class="arrow-yes"/>

  <!-- Setas de rejeição -->
  <line x1="520" y1="230" x2="600" y2="230" class="arrow-no"/>
  <line x1="600" y1="230" x2="600" y2="280" class="arrow-no"/>
  <line x1="600" y1="280" x2="690" y2="280" class="arrow-no"/>
  <line x1="690" y1="280" x2="690" y2="320" class="arrow-no"/>

  <!-- Setas do fluxo de aprovação -->
  <line x1="270" y1="370" x2="270" y2="390" class="arrow"/>
  <line x1="270" y1="390" x2="110" y2="390" class="arrow"/>
  <line x1="110" y1="390" x2="110" y2="420" class="arrow"/>
  
  <line x1="270" y1="390" x2="260" y2="390" class="arrow"/>
  <line x1="260" y1="390" x2="260" y2="420" class="arrow"/>
  
  <line x1="270" y1="390" x2="410" y2="390" class="arrow"/>
  <line x1="410" y1="390" x2="410" y2="420" class="arrow"/>

  <!-- Setas do fluxo de rejeição -->
  <line x1="690" y1="370" x2="690" y2="390" class="arrow"/>
  <line x1="690" y1="390" x2="880" y2="390" class="arrow"/>
  <line x1="880" y1="390" x2="880" y2="420" class="arrow"/>
  
  <line x1="690" y1="390" x2="1030" y2="390" class="arrow"/>
  <line x1="1030" y1="390" x2="1030" y2="420" class="arrow"/>
  
  <line x1="690" y1="390" x2="1180" y2="390" class="arrow"/>
  <line x1="1180" y1="390" x2="1180" y2="420" class="arrow"/>

  <!-- Setas para o fim -->
  <line x1="260" y1="470" x2="260" y2="520" class="arrow"/>
  <line x1="1030" y1="470" x2="1030" y2="520" class="arrow"/>

  <!-- Labels das decisões -->
  <text x="380" y="225" class="subtitle" style="fill: #27ae60; font-weight: bold;">APROVAR</text>
  <text x="560" y="225" class="subtitle" style="fill: #e74c3c; font-weight: bold;">REJEITAR</text>

  <!-- Legenda -->
  <rect x="50" y="750" width="1100" height="120" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1" rx="5"/>
  <text x="70" y="770" class="subtitle" style="font-weight: bold;">Legenda:</text>
  
  <rect x="70" y="780" width="20" height="15" class="process"/>
  <text x="100" y="792" class="subtitle">Processamento</text>
  
  <rect x="200" y="780" width="20" height="15" class="notification"/>
  <text x="230" y="792" class="subtitle">Notificação Sistema</text>
  
  <rect x="350" y="780" width="20" height="15" class="email"/>
  <text x="380" y="792" class="subtitle">E-mail</text>
  
  <rect x="450" y="780" width="20" height="15" class="sound"/>
  <text x="480" y="792" class="subtitle">Som</text>
  
  <polygon points="570,780 590,787.5 570,795 550,787.5" class="decision"/>
  <text x="600" y="792" class="subtitle">Decisão</text>
  
  <rect x="680" y="780" width="20" height="15" class="end"/>
  <text x="710" y="792" class="subtitle">Fim do Processo</text>

  <text x="70" y="815" class="subtitle" style="font-weight: bold;">Prioridades de Som:</text>
  <text x="70" y="835" class="subtitle">• ALTA: Nova solicitação (administradores)</text>
  <text x="70" y="850" class="subtitle">• MÉDIA: Aprovação (solicitante)</text>
  <text x="400" y="835" class="subtitle">• BAIXA: Rejeição (solicitante)</text>
  <text x="400" y="850" class="subtitle">• Reprodução automática ao receber notificação</text>

</svg>