# =====================================================
# Configurações de Segurança - ERP Corporativo
# Arquivo: application-security.properties
# =====================================================

# ===== CONFIGURAÇÕES DE SESSÃO =====
# Timeout da sessão (30 minutos)
server.servlet.session.timeout=30m

# Modo de rastreamento de sessão (apenas cookies)
server.servlet.session.tracking-modes=cookie

# ===== CONFIGURAÇÕES DE COOKIES =====
# Cookie de sessão seguro
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=true
server.servlet.session.cookie.same-site=strict
server.servlet.session.cookie.name=ERPSESSIONID
server.servlet.session.cookie.path=/
server.servlet.session.cookie.max-age=-1

# ===== CONFIGURAÇÕES SSL/TLS (PRODUÇÃO) =====
# Habilitar SSL em produção
server.ssl.enabled=false
# server.ssl.key-store=classpath:keystore.p12
# server.ssl.key-store-password=${SSL_KEYSTORE_PASSWORD:changeit}
# server.ssl.key-store-type=PKCS12
# server.ssl.key-alias=erp-corporativo

# ===== CONFIGURAÇÕES DE SEGURANÇA GERAL =====
# Requer SSL em produção
security.require-ssl=false
# server.use-forward-headers=true

# ===== CONFIGURAÇÕES DE RATE LIMITING =====
# Rate limiting personalizado
security.rate-limit.enabled=true
security.rate-limit.requests-per-minute=60
security.rate-limit.requests-per-hour=1000
security.rate-limit.adesao-requests-per-minute=30

# ===== CONFIGURAÇÕES DE PASSWORD POLICY =====
# Política de senhas
security.password.min-length=8
security.password.require-uppercase=true
security.password.require-lowercase=true
security.password.require-numbers=true
security.password.require-special-chars=true
security.password.max-age-days=90
security.password.history-count=5

# ===== CONFIGURAÇÕES DE ACCOUNT LOCKOUT =====
# Bloqueio de conta
security.account-lockout.enabled=true
security.account-lockout.max-attempts=5
security.account-lockout.lockout-duration-minutes=15
security.account-lockout.reset-time-minutes=60

# ===== CONFIGURAÇÕES DE AUDITORIA =====
# Auditoria de segurança
security.audit.enabled=true
security.audit.log-successful-logins=true
security.audit.log-failed-logins=true
security.audit.log-admin-actions=true
security.audit.log-sensitive-operations=true

# ===== CONFIGURAÇÕES DE HEADERS DE SEGURANÇA =====
# Headers customizados
security.headers.hsts.enabled=true
security.headers.hsts.max-age=31536000
security.headers.hsts.include-subdomains=true
security.headers.csp.enabled=true
security.headers.permissions-policy.enabled=true

# ===== CONFIGURAÇÕES DE REMEMBER-ME =====
# Remember-Me seguro
security.remember-me.enabled=true
security.remember-me.token-validity-seconds=86400
security.remember-me.key=erp-corporativo-remember-me-key-2025

# ===== CONFIGURAÇÕES DE CSRF =====
# CSRF Protection
security.csrf.enabled=true
security.csrf.cookie-http-only=false
security.csrf.cookie-secure=true

# ===== CONFIGURAÇÕES DE MONITORAMENTO =====
# Monitoramento de segurança
security.monitoring.enabled=true
security.monitoring.suspicious-activity-threshold=10
security.monitoring.alert-on-multiple-failures=true
security.monitoring.alert-threshold=5

# ===== CONFIGURAÇÕES DE LIMPEZA AUTOMÁTICA =====
# Limpeza de dados de segurança
security.cleanup.enabled=true
security.cleanup.interval-hours=1
security.cleanup.retention-hours=24
security.cleanup.old-sessions-days=7

# ===== CONFIGURAÇÕES DE DESENVOLVIMENTO =====
# Configurações específicas para desenvolvimento
security.dev.disable-ssl-validation=false
security.dev.allow-insecure-cookies=false
security.dev.verbose-logging=false

# ===== CONFIGURAÇÕES DE INTEGRAÇÃO =====
# APIs externas
security.external-apis.viacep.timeout=5000
security.external-apis.viacep.max-retries=3
security.external-apis.rate-limit-per-minute=100

# ===== CONFIGURAÇÕES DE WEBSOCKET =====
# Segurança WebSocket
security.websocket.enabled=true
security.websocket.origin-patterns=http://localhost:*,https://localhost:*
security.websocket.max-connections-per-user=5

# ===== CONFIGURAÇÕES DE UPLOAD =====
# Segurança de upload
security.upload.max-file-size=10MB
security.upload.allowed-extensions=.pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png
security.upload.scan-for-malware=false
security.upload.quarantine-suspicious=true

# ===== CONFIGURAÇÕES DE BACKUP =====
# Backup de configurações de segurança
security.backup.enabled=false
security.backup.interval-days=7
security.backup.retention-days=30

# ===== CONFIGURAÇÕES DE NOTIFICAÇÕES =====
# Notificações de segurança
security.notifications.enabled=true
security.notifications.email-on-suspicious-activity=true
security.notifications.email-on-account-lockout=true
security.notifications.admin-email=${ADMIN_EMAIL:admin@empresa.com}

# ===== CONFIGURAÇÕES DE COMPLIANCE =====
# Conformidade e regulamentações
security.compliance.lgpd.enabled=true
security.compliance.audit-trail.enabled=true
security.compliance.data-retention-days=2555  # 7 anos
security.compliance.anonymize-old-data=true