<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Editar Cliente - Painel do CEO</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet" />
  <link rel="stylesheet" th:href="@{/css/style.css}" />
  <link rel="stylesheet" th:href="@{/css/cliente-editar.css}" />
  <!-- CSS padrão -->
    <link href="/css/style.css" rel="stylesheet">
    <link href="/css/sidebar.css" rel="stylesheet">
    <link href="/css/notifications.css" rel="stylesheet">
  <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

</head>

<body>
  <div class="app-container">
    <!-- Sidebar fixa -->
    <aside th:replace="~{components/sidebar :: sidebar}"></aside>

    <!-- Conteúdo principal -->
    <main class="main-content">
      <!-- Topbar fixa -->
      <header th:replace="~{components/topbar :: topbar}"></header>

      <!-- Área de conteúdo -->
      <section class="content-area" role="main" aria-label="Editar cliente">
        <h1 class="page-title">Editar Cliente</h1>

        <form th:action="@{/clientes/{id}/editar(id=${cliente.id})}" th:object="${cliente}" method="post"
          class="form-cadastro" novalidate>

          <div class="form-group">
            <label for="nome">Nome / Razão Social <span aria-hidden="true">*</span></label>
            <input type="text" id="nome" th:field="*{nome}" placeholder="Digite o nome ou razão social" required />
          </div>

          <div class="form-group">
            <label for="nomeFantasia">Nome Fantasia</label>
            <input type="text" id="nomeFantasia" th:field="*{nomeFantasia}" placeholder="Digite o nome fantasia" />
          </div>

          <div class="form-group">
            <label for="tipoCliente">Tipo de Cliente <span aria-hidden="true">*</span></label>
            <select id="tipoCliente" th:field="*{tipoCliente}" required>
              <option value="">Selecione</option>
              <option value="PF" th:selected="${cliente.tipoCliente == 'PF'}">Pessoa Física</option>
              <option value="PJ" th:selected="${cliente.tipoCliente == 'PJ'}">Pessoa Jurídica</option>
            </select>
          </div>

          <div class="form-group">
            <label for="email">Email <span aria-hidden="true">*</span></label>
            <input type="email" id="email" th:field="*{email}" placeholder="email@exemplo.com" required />
          </div>

          <div class="form-group">
            <label for="telefone">Telefone</label>
            <input type="tel" id="telefone" th:field="*{telefone}" placeholder="(00) 0000-0000" />
          </div>

          <div class="form-group">
            <label for="celular">Celular</label>
            <input type="tel" id="celular" th:field="*{celular}" placeholder="(00) 00000-0000" />
          </div>

          <div class="form-group">
            <label for="cpfCnpj">CPF / CNPJ <span aria-hidden="true">*</span></label>
            <input type="text" id="cpfCnpj" th:field="*{cpfCnpj}" placeholder="000.000.000-00 / 00.000.000/0000-00"
              required />
          </div>

          <div class="form-group">
            <label for="dataNascimento">Data de Nascimento</label>
            <input type="date" id="dataNascimento" th:field="*{dataNascimento}" th:disabled="${cliente.tipoCliente != 'PF'}" />
          </div>

          <div class="form-group">
            <label for="rg">RG</label>
            <input type="text" id="rg" th:field="*{rg}" placeholder="RG" th:disabled="${cliente.tipoCliente != 'PF'}" />
          </div>

          <div class="form-group">
            <label for="nacionalidade">Nacionalidade</label>
            <input type="text" id="nacionalidade" th:field="*{nacionalidade}" placeholder="Ex.: Brasileiro(a)" th:disabled="${cliente.tipoCliente != 'PF'}" />
          </div>

          <div class="form-group">
            <label for="estadoCivil">Estado Civil</label>
            <input type="text" id="estadoCivil" th:field="*{estadoCivil}" placeholder="Ex.: Solteiro(a)" th:disabled="${cliente.tipoCliente != 'PF'}" />
          </div>

          <div class="form-group">
            <label for="profissao">Profissão</label>
            <input type="text" id="profissao" th:field="*{profissao}" placeholder="Profissão" th:disabled="${cliente.tipoCliente != 'PF'}" />
          </div>

          <div class="form-group">
            <label for="nomeMae">Nome da Mãe</label>
            <input type="text" id="nomeMae" th:field="*{nomeMae}" placeholder="Nome da mãe" th:disabled="${cliente.tipoCliente != 'PF'}" />
          </div>

          <div class="form-group">
            <label for="nomePai">Nome do Pai</label>
            <input type="text" id="nomePai" th:field="*{nomePai}" placeholder="Nome do pai" th:disabled="${cliente.tipoCliente != 'PF'}" />
          </div>

          <!-- Origem do Cliente -->
          <div class="form-group">
            <label for="origem">Origem do Cliente</label>
            <select id="origem" th:field="*{origem}">
              <option value="" th:selected="${cliente.origem == null}">-- Selecione a origem --</option>
              <option value="Indicação" th:selected="${cliente.origem == 'Indicação'}">Indicação</option>
              <option value="Google" th:selected="${cliente.origem == 'Google'}">Google</option>
              <option value="Redes Sociais" th:selected="${cliente.origem == 'Redes Sociais'}">Redes Sociais</option>
              <option value="Outros" th:selected="${cliente.origem == 'Outros'}">Outros</option>
            </select>
          </div>

          <!-- Campos de Indicação -->
          <div id="divIndicacao" style="display: none; border: 1px solid #ddd; padding: 15px; margin-bottom: 15px; border-radius: 5px; background-color: #f9f9f9;">
            <h3 style="margin-top: 0; font-size: 1.1em; color: #555;">Dados da Indicação</h3>
            <div class="form-group">
              <label for="indicadorNome">Nome do Indicador</label>
              <input type="text" id="indicadorNome" th:field="*{indicadorNome}" placeholder="Nome completo do indicador" />
            </div>
            <div class="form-group">
              <label for="indicadorTelefone">Telefone do Indicador</label>
              <input type="text" id="indicadorTelefone" th:field="*{indicadorTelefone}" placeholder="(xx) xxxxx-xxxx" maxlength="15" />
            </div>
            <div class="form-group">
              <label for="dataIndicacao">Data da Indicação</label>
              <input type="date" id="dataIndicacao" th:field="*{dataIndicacao}" readonly />
            </div>
          </div>

          <div class="form-group">
            <label for="inscricaoEstadual">Inscrição Estadual</label>
            <input type="text" id="inscricaoEstadual" th:field="*{inscricaoEstadual}"
              placeholder="Inscrição Estadual" />
          </div>

          <div class="form-group">
            <label for="inscricaoMunicipal">Inscrição Municipal</label>
            <input type="text" id="inscricaoMunicipal" th:field="*{inscricaoMunicipal}"
              placeholder="Inscrição Municipal" />
          </div>

          <fieldset class="form-group">
            <legend>Endereço</legend>

            <label for="logradouro">Logradouro</label>
            <input type="text" id="logradouro" th:field="*{logradouro}" placeholder="Rua, Avenida, etc." />

            <label for="numero">Número</label>
            <input type="text" id="numero" th:field="*{numero}" placeholder="Número" />

            <label for="complemento">Complemento</label>
            <input type="text" id="complemento" th:field="*{complemento}" placeholder="Complemento" />

            <label for="bairro">Bairro</label>
            <input type="text" id="bairro" th:field="*{bairro}" placeholder="Bairro" />

            <label for="cidade">Cidade</label>
            <input type="text" id="cidade" th:field="*{cidade}" placeholder="Cidade" />

            <label for="estado">Estado</label>
            <input type="text" id="estado" th:field="*{estado}" placeholder="Estado" maxlength="2" />

            <label for="cep">CEP</label>
            <input type="text" id="cep" th:field="*{cep}" placeholder="00000-000" />
          </fieldset>

          <div class="form-group">
            <label for="status">Status</label>
            <select id="status" th:field="*{status}">
              <option value="ATIVO" th:selected="${cliente.status == 'Ativo'}">Ativo</option>
              <option value="INATIVO" th:selected="${cliente.status == 'Inativo'}">Inativo</option>
              <option value="PENDENTE" th:selected="${cliente.status == 'Pendente'}">Pendente</option>
            </select>
          </div>

          <div class="form-group">
            <label for="pessoaContato">Pessoa para Contato</label>
            <input type="text" id="pessoaContato" th:field="*{pessoaContato}"
              placeholder="Nome da pessoa para contato" />
          </div>

          <div class="form-group">
            <label for="observacoes">Observações</label>
            <textarea id="observacoes" th:field="*{observacoes}" rows="4"
              placeholder="Observações adicionais"></textarea>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn-submit">
              <i class="fas fa-save"></i> Salvar Alterações
            </button>
            <a th:href="@{/clientes}" class="btn-cancel">
              <i class="fas fa-arrow-left"></i> Cancelar
            </a>
          </div>
        </form>
      </section>

      <!-- Rodapé -->
      <footer th:replace="~{components/footer :: footer}"></footer>
    </main>
  </div>

   <script th:src="@{/js/sidebar.js}"></script>

  <!-- jQuery necessário -->
  <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>

  <!-- Seu JS de notificações -->
  <script th:src="@{/js/notifications.js}"></script>
  <script th:src="@{/js/cliente-cadastro.js}"></script>

</body>

</html>
