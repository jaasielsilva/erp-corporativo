<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Lista de Contratos</title>
  <link rel="stylesheet" href="/css/estilos.css" />
</head>
<body>
  <h1>Contratos</h1>

  <a href="/contratos/novo" class="btn btn-primary">Novo Contrato</a>

  <table>
    <thead>
      <tr>
        <th>Nº do Contrato</th>
        <th>Tipo</th>
        <th>Entidade Relacionada</th>
        <th>Valor</th>
        <th>Status</th>
        <th>Vigência</th>
        <th>Última Atualização</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      <tr th:each="contrato : ${contratos}">
        <td th:text="${contrato.numeroContrato}">00001</td>
        <td th:text="${contrato.tipo}">FORNECEDOR</td>
        <td th:text="${contrato.fornecedor != null ? contrato.fornecedor.nome : 'N/A'}">Fornecedor A</td>
        <td th:text="${#numbers.formatDecimal(contrato.valor, 2, 'COMMA', 2, 'POINT')}">R$ 0,00</td>
        <td th:text="${contrato.status}">ATIVO</td>
        <td>
          <span th:text="${contrato.dataInicio}">01/01/2025</span> até
          <span th:text="${contrato.dataFim}">01/01/2026</span>
        </td>
        <td th:text="${contrato.ultimaAtualizacao}">20/07/2025</td>
        <td>
          <a th:href="@{'/contratos/' + ${contrato.id}}" class="btn">Ver</a>
          <a th:href="@{'/contratos/' + ${contrato.id} + '/editar'}" class="btn">Editar</a>
        </td>
      </tr>
    </tbody>
  </table>
</body>
</html>
