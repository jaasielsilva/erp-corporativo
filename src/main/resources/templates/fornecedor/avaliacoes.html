<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Avaliações do Fornecedor - ERP Corporativo</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet" />
  <link rel="stylesheet" th:href="@{/css/style.css}" />
</head>

<body>
  <div class="app-container">
    <aside th:replace="~{components/sidebar :: sidebar}"></aside>

    <main class="main-content">
      <header th:replace="~{components/topbar :: topbar}"></header>

      <section class="content-area">
        <h1>Avaliações do Fornecedor <span th:text="${fornecedor.razaoSocial}"></span></h1>

        <a class="button primary" th:href="@{'/fornecedor/' + ${fornecedor.id} + '/avaliacoes/novo'}">
          <i class="fas fa-plus-circle"></i> Nova Avaliação
        </a>

        <table class="table-list mt-3">
          <thead>
            <tr>
              <th>ID</th>
              <th>Data</th>
              <th>Comentário</th>
              <th>Nota</th>
              <th>Ações</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="avaliacao : ${avaliacoes}">
              <td th:text="${avaliacao.id}"></td>
              <td th:text="${avaliacao.data}"></td>
              <td th:text="${avaliacao.comentario}"></td>
              <td th:text="${avaliacao.nota}"></td>
              <td>
                <a th:href="@{'/fornecedor/' + ${fornecedor.id} + '/avaliacoes/editar/' + ${avaliacao.id}}">Editar</a> |
                <a th:href="@{'/fornecedor/' + ${fornecedor.id} + '/avaliacoes/excluir/' + ${avaliacao.id}}"
                   onclick="return confirm('Confirma exclusão?')">Excluir</a>
              </td>
            </tr>
            <tr th:if="${#lists.isEmpty(avaliacoes)}">
              <td colspan="5">Nenhuma avaliação encontrada.</td>
            </tr>
          </tbody>
        </table>
      </section>

      <footer th:replace="~{components/footer :: footer}"></footer>
    </main>
  </div>

  <script th:src="@{/js/script.js}"></script>
</body>

</html>
