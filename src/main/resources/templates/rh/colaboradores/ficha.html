<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ficha do Colaborador - ERP Corporativo</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet" />
  <link rel="stylesheet" th:href="@{/css/style.css}" />
  <link rel="stylesheet" th:href="@{/css/sidebar.css}" />
</head>

<body>
  <div class="app-container">
    <aside th:replace="~{components/sidebar :: sidebar}"></aside>

    <main class="main-content">
      <header th:replace="~{components/topbar :: topbar}"></header>

      <section class="content-area">
        <h1>Ficha do Colaborador</h1>
        <h2>Informações completas do colaborador</h2>

        <div class="action-buttons">
          <a href="/rh/colaboradores/listar" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> Voltar à Lista
          </a>
          <a href="/rh/colaboradores/editar/1" class="btn btn-primary">
            <i class="fas fa-edit"></i> Editar
          </a>
          <a href="/rh/colaboradores/documentos/1" class="btn btn-info">
            <i class="fas fa-file-alt"></i> Documentos
          </a>
          <button onclick="imprimirFicha()" class="btn btn-success">
            <i class="fas fa-print"></i> Imprimir
          </button>
        </div>

        <div class="ficha-container">
          <!-- Cabeçalho da Ficha -->
          <div class="ficha-header">
            <div class="colaborador-foto">
              <img src="/img/gerente.png" alt="Foto do Colaborador"
                style="width:80px; height:80px; border-radius:50%; object-fit:cover;">
            </div>

            <div class="colaborador-info">
              <h2 th:text="${colaborador.nome}">Nome do Colaborador</h2>

              <div class="info-item" style="display:flex; gap:10px; align-items:center;">
                <label>Cargo:</label>
                <span class="cargo" th:text="${colaborador.cargo.nome}">Cargo do Colaborador</span>
              </div>

              <div class="info-item" style="display:flex; gap:10px; align-items:center;">
                <label>Departamento:</label>
                <span class="departamento" th:text="${colaborador.departamento.nome}">Departamento do Colaborador</span>
              </div>

              <div class="info-item" style="display:flex; gap:10px; align-items:center;">
                <label>Status:</label>
                <span class="status-badge status-ativo" th:text="${colaborador.status}">ATIVO</span>
              </div>
            </div>

            <div class="colaborador-stats">
              <div class="stat-item">
                <span class="stat-label">Tempo na Empresa</span>
                <span class="stat-value" th:text="${tempoNaEmpresa}">1 ano e 8 meses</span>
              </div>
              <div class="stat-item">
                <span class="stat-label">Último Acesso</span>
                <span class="stat-value" th:text="${ultimoAcesso}">Hoje, 14:30</span>
              </div>

            </div>
          </div>

          <!-- Dados Pessoais -->
          <div class="ficha-section">
            <h3><i class="fas fa-user"></i> Dados Pessoais</h3>
            <div class="info-grid">
              <div class="info-item">
                <label>Nome Completo:</label>
                <span th:text="${colaborador.nome}">Nome do Colaborador</span>
              </div>
              <div class="info-item">
                <label>CPF:</label>
                <span th:text="${colaborador.cpf}">000.000.000-00</span>
              </div>
              <div class="info-item">
                <label>RG:</label>
                <span th:text="${colaborador.rg}">00.000.000-0</span>
              </div>
              <div class="info-item">
                <label>Data de Nascimento:</label>
                <span th:text="${colaborador.dataNascimento}">1996-07-28</span>
              </div>
              <div class="info-item">
                <label>Estado Civil:</label>
                <span th:text="${colaborador.estadoCivil}">Estado Civil</span>
              </div>
              <div class="info-item">
                <label>Sexo:</label>
                <span th:text="${colaborador.sexo}">Sexo</span>
              </div>
            </div>
          </div>



          <!-- Contato -->
          <div class="ficha-section">
            <h3><i class="fas fa-phone"></i> Informações de Contato</h3>
            <div class="info-grid">
              <div class="info-item">
                <label>E-mail:</label>
                <span th:text="${colaborador.email}">E-mail</span>
              </div>
              <div class="info-item">
                <label>Telefone:</label>
                <span th:text="${colaborador.telefone}">Telefone</span>
              </div>
              <div class="info-item full-width">
                <label>Endereço:</label>
                <span
                  th:text="|, ${colaborador.numero} - ${colaborador.bairro} - ${colaborador.cidade}/${colaborador.estado} - CEP: ${colaborador.cep}|">
                  Endereço completo
                </span>

              </div>
            </div>
          </div>

          <!-- Dados Profissionais -->
          <div class="ficha-section">
            <h3><i class="fas fa-briefcase"></i> Dados Profissionais</h3>
            <div class="info-grid">
              <div class="info-item">
                <label>Cargo:</label>
                <span th:text="${colaborador.cargo.nome}">Cargo</span>
              </div>
              <div class="info-item">
                <label>Departamento:</label>
                <span th:text="${colaborador.departamento.nome}">Departamento</span>
              </div>
              <div class="info-item">
                <label>Data de Admissão:</label>
                <span th:text="${colaborador.dataAdmissao}">1996-07-28</span>
              </div>
              <div class="info-item">
                <label>Tipo de Contrato:</label>
                <span th:text="${colaborador.tipoContrato}">CLT</span>
              </div>
              <div class="info-item">
                <label>Carga Horária:</label>
                <span th:text="${colaborador.cargaHoraria + 'h semanais'}">40h semanais</span>
              </div>

              <div class="info-item">
                <label>Supervisor:</label>
                <span th:text="${colaborador.supervisor != null ? colaborador.supervisor.nome : 'Nenhum'}">
                  Nenhum
                </span>
              </div>

              <div class="info-item">
                <label>Salário:</label>
                <span th:text="'R$ ' + ${colaborador.salario}">R$ 8.500,00</span>
              </div>
              <div class="info-item" style="display:flex; gap:10px; align-items:center;">
                <label>Status:</label>
                <span class="status-badge status-ativo" th:text="${colaborador.status}">ATIVO</span>
              </div>
            </div>
          </div>


          <!-- Benefícios -->
          <!-- Benefícios -->
          <div class="ficha-section">
            <h3><i class="fas fa-gift"></i> Benefícios</h3>
            <div class="beneficios-list">
              <div th:each="benef : ${colaborador.beneficios}"
                th:classappend="${benef.status == 'ATIVO'} ? 'ativo' : 'inativo'" class="beneficio-item">

                <!-- Ícone conforme tipo de benefício -->
                <i th:class="${benef.beneficio.nome.contains('Saúde') ? 'fas fa-heartbeat' :
                         benef.beneficio.nome.contains('Transporte') ? 'fas fa-bus' :
                         benef.beneficio.nome.contains('Refeição') ? 'fas fa-utensils' : 'fas fa-gift'}"></i>

                <!-- Nome e status do benefício -->
                <div class="info-item">
                  <label th:text="${benef.beneficio.nome}">Plano de Saúde</label>
                  <span th:text="${benef.status}">Ativo</span>
                </div>
              </div>
            </div>
          </div>

          
          <!-- Histórico Recente -->
          <div class="ficha-section">
            
            <h3><i class="fas fa-history"></i> Histórico Recente</h3>
            <H2>A PARTIR DAQUI DADOS FIXO POR ENQUANTO</H2>
            <div class="historico-timeline">
              <div class="timeline-item">
                <div class="timeline-date">15/11/2023</div>
                <div class="timeline-content">
                  <h4>Promoção para Desenvolvedor Senior</h4>
                  <p>Promovido de Desenvolvedor Pleno para Senior devido ao excelente desempenho.</p>
                </div>
              </div>
              <div class="timeline-item">
                <div class="timeline-date">01/07/2023</div>
                <div class="timeline-content">
                  <h4>Férias</h4>
                  <p>Período de férias de 30 dias - 01/07/2023 a 30/07/2023</p>
                </div>
              </div>
              <div class="timeline-item">
                <div class="timeline-date">15/03/2023</div>
                <div class="timeline-content">
                  <h4>Avaliação de Desempenho</h4>
                  <p>Avaliação anual - Nota: 9.2/10 - Excelente desempenho</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Observações -->
          <div class="ficha-section">
            <h3><i class="fas fa-sticky-note"></i> Observações</h3>
            <div class="observacoes-content">
              <p>Colaborador experiente em desenvolvimento web. Especialista em Java e Spring Boot. Demonstra liderança
                técnica e capacidade de mentoria para desenvolvedores juniores. Participou de projetos estratégicos da
                empresa com excelentes resultados.</p>
            </div>
          </div>
        </div>
      </section>

      <footer th:replace="~{components/footer :: footer}"></footer>
    </main>
  </div>

  <script th:src="@{/js/script.js}"></script>
  <script>
    function imprimirFicha() {
      window.print();
    }
  </script>
  <!-- Script de notifica��es --> <!-- jQuery necess�rio para o sistema de notifica��es -->
  <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>



  <script th:src="@{/js/notifications.js}"></script>
  <!-- jQuery necess�rio para o sistema de notifica��es -->
  <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>

  <!-- Script de notifica��es --> <!-- jQuery necess�rio para o sistema de notifica��es -->
  <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>



  <script th:src="@{/js/notifications.js}"></script>
  <script th:src="@{/js/sidebar.js}"></script>

</body>

</html>