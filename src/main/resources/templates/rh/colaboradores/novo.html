<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Novo Colaborador - ERP Corporativo</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet" />
  <link rel="stylesheet" th:href="@{/css/style.css}" />
  <link rel="stylesheet" th:href="@{/css/sidebar.css}" />
  <link rel="stylesheet" th:href="@{/css/colaborador-form.css}" />
</head>

<body>
  <div class="app-container">
    <aside th:replace="~{components/sidebar :: sidebar}"></aside>

    <main class="main-content">
      <header th:replace="~{components/topbar :: topbar}"></header>

      <section class="content-area">
        <h1>Cadastro de Novo Colaborador</h1>
        <h2>Preencha os dados do novo colaborador</h2>

        <div class="action-buttons">
          <a href="/rh/colaboradores/listar" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> Voltar à Lista
          </a>
        </div>

        <!-- Mensagens de Sucesso e Erro -->
        <div th:if="${mensagem}" class="alert alert-success">
          <i class="fas fa-check-circle"></i>
          <span th:text="${mensagem}"></span>
        </div>

        <div th:if="${erro}" class="alert alert-danger">
          <i class="fas fa-exclamation-triangle"></i>
          <span th:text="${erro}"></span>
        </div>

        <form class="form-container" method="post" action="/rh/colaboradores/salvar">
          <div class="form-grid">
            <!-- Dados Pessoais -->
            <div class="form-section">
              <h3><i class="fas fa-user"></i> Dados Pessoais</h3>

              <div class="form-row">
                <div class="form-group">
                  <label for="nome">Nome Completo *</label>
                  <input type="text" id="nome" name="nome" required class="form-control">
                </div>
                <div class="form-group required">
                  <label for="cpf">CPF *</label>
                  <input type="text" id="cpf" name="cpf" required class="form-control" placeholder="000.000.000-00"
                    data-mask="cpf">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="rg">RG</label>
                  <input type="text" id="rg" name="rg" class="form-control" data-mask="rg">
                </div>
                <div class="form-group">
                  <label for="dataNascimento">Data de Nascimento</label>
                  <input type="date" id="dataNascimento" name="dataNascimento" class="form-control">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="estadoCivil">Estado Civil</label>
                  <select id="estadoCivil" name="estadoCivil" class="form-control">
                    <option value="">Selecione...</option>
                    <option value="SOLTEIRO">Solteiro(a)</option>
                    <option value="CASADO">Casado(a)</option>
                    <option value="DIVORCIADO">Divorciado(a)</option>
                    <option value="VIUVO">Viúvo(a)</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="sexo">Sexo</label>
                  <select id="sexo" name="sexo" class="form-control">
                    <option value="">Selecione...</option>
                    <option value="MASCULINO">Masculino</option>
                    <option value="FEMININO">Feminino</option>
                    <option value="OUTRO">Outro</option>
                  </select>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="status">Status do Colaborador</label>
                  <select id="status" name="status" class="form-control">
                    <option value="">Selecione...</option>
                    <option value="ATIVO">Ativo</option>
                    <option value="INATIVO">Inativo</option>
                    <option value="SUSPENSO">Suspenso</option>
                  </select>
                </div>
              </div>
            </div>


            <!-- Contato -->
            <div class="form-section">
              <h3><i class="fas fa-phone"></i> Contato</h3>

              <div class="form-row">
                <div class="form-group">
                  <label for="email">E-mail *</label>
                  <input type="email" id="email" name="email" required class="form-control" data-validate="email">
                </div>
                <div class="form-group">
                  <label for="telefone">Telefone</label>
                  <input type="text" id="telefone" name="telefone" class="form-control" placeholder="(11) 99999-9999"
                    data-mask="phone">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="cep">CEP</label>
                  <input type="text" id="cep" name="cep" class="form-control" placeholder="00000-000" data-mask="cep"
                    data-cep-search="true">
                </div>
                <div class="form-group">
                  <label for="logradouro">Logradouro</label>
                  <input type="text" id="logradouro" name="logradouro" class="form-control"
                    placeholder="Rua, Avenida, etc.">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="numero">Número</label>
                  <input type="text" id="numero" name="numero" class="form-control" placeholder="123">
                </div>
                <div class="form-group">
                  <label for="complemento">Complemento</label>
                  <input type="text" id="complemento" name="complemento" class="form-control"
                    placeholder="Apto, Sala, etc.">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="bairro">Bairro</label>
                  <input type="text" id="bairro" name="bairro" class="form-control">
                </div>
                <div class="form-group">
                  <label for="cidade">Cidade</label>
                  <input type="text" id="cidade" name="cidade" class="form-control">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="estado">Estado</label>
                  <select id="estado" name="estado" class="form-control">
                    <option value="">Selecione...</option>
                    <option value="AC">Acre</option>
                    <option value="AL">Alagoas</option>
                    <option value="AP">Amapá</option>
                    <option value="AM">Amazonas</option>
                    <option value="BA">Bahia</option>
                    <option value="CE">Ceará</option>
                    <option value="DF">Distrito Federal</option>
                    <option value="ES">Espírito Santo</option>
                    <option value="GO">Goiás</option>
                    <option value="MA">Maranhão</option>
                    <option value="MT">Mato Grosso</option>
                    <option value="MS">Mato Grosso do Sul</option>
                    <option value="MG">Minas Gerais</option>
                    <option value="PA">Pará</option>
                    <option value="PB">Paraíba</option>
                    <option value="PR">Paraná</option>
                    <option value="PE">Pernambuco</option>
                    <option value="PI">Piauí</option>
                    <option value="RJ">Rio de Janeiro</option>
                    <option value="RN">Rio Grande do Norte</option>
                    <option value="RS">Rio Grande do Sul</option>
                    <option value="RO">Rondônia</option>
                    <option value="RR">Roraima</option>
                    <option value="SC">Santa Catarina</option>
                    <option value="SP">São Paulo</option>
                    <option value="SE">Sergipe</option>
                    <option value="TO">Tocantins</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="pais">País</label>
                  <input type="text" id="pais" name="pais" class="form-control" value="Brasil" readonly>
                </div>
              </div>
            </div>

            <!-- Dados Profissionais -->
            <div class="form-section">
              <h3><i class="fas fa-briefcase"></i> Dados Profissionais</h3>

              <div class="form-row">
                <div class="form-group">
                  <label for="cargo">Cargo *</label>
                  <select id="cargo" name="cargo.id" required class="form-control">
                    <option value="">Selecione...</option>
                    <option th:each="cargo : ${cargos}" th:value="${cargo.id}" th:text="${cargo.nome}"></option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="departamento">Departamento *</label>
                  <select id="departamento" name="departamento.id" required class="form-control">
                    <option value="">Selecione...</option>
                    <option th:each="departamento : ${departamentos}" th:value="${departamento.id}"
                      th:text="${departamento.nome}"></option>
                  </select>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="dataAdmissao">Data de Admissão *</label>
                  <input type="date" id="dataAdmissao" name="dataAdmissao" required class="form-control">
                </div>
                <div class="form-group">
                  <label for="salario">Salário</label>
                  <input type="text" id="salario" name="salario" class="form-control" placeholder="0,00"
                    data-mask="currency">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="tipoContrato">Tipo de Contrato</label>
                  <select id="tipoContrato" name="tipoContrato" class="form-control">
                    <option value="">Selecione...</option>
                    <option value="clt">CLT</option>
                    <option value="pj">PJ</option>
                    <option value="estagio">Estágio</option>
                    <option value="terceirizado">Terceirizado</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="cargaHoraria">Carga Horária Semanal</label>
                  <input type="number" id="cargaHoraria" name="cargaHoraria" class="form-control" placeholder="40">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="supervisor">Supervisor Direto</label>
                  <select id="supervisor" name="supervisor.id" class="form-control">
                    <option value="">Nenhum supervisor</option>
                    <option th:each="colaboradorSupervisor : ${colaboradores}" th:value="${colaboradorSupervisor.id}"
                      th:text="${colaboradorSupervisor.nome + ' - ' + (colaboradorSupervisor.cargo != null ? colaboradorSupervisor.cargo.nome : 'Sem cargo')}">
                    </option>
                  </select>
                </div>
              </div>
            </div>
            <!-- Benefícios -->
            <div class="form-section">
              <h3><i class="fas fa-heart"></i> Benefícios</h3>

              <div class="form-row">
                
                <div class="form-group">
                  <label for="beneficioPlanoSaude">Plano de Saúde</label>
                  <select name="beneficios[0].beneficio.id" class="form-control">
                    <option value="">Selecione...</option>
                    <option th:each="b : ${beneficios}" th:if="${b.nome.equals('Plano de Saúde')}"
                      th:value="${b.id}" th:text="${b.nome}">
                    </option>
                  </select>

                  <label>Valor</label>
                  <input type="text" name="beneficios[0].valor" class="form-control" placeholder="120,00">

                  <label>Status</label>
                  <select name="beneficios[0].status" class="form-control">
                    <option value="ATIVO">Ativo</option>
                    <option value="INATIVO">Inativo</option>
                  </select>

                </div>

                <div class="form-group">
                  <label for="beneficioValeTransporte">Vale Transporte</label>
                  <select id="beneficioValeTransporte" name="beneficios[1].beneficio.id" class="form-control">
                    <option value="">Selecione...</option>
                    <option th:each="b : ${beneficios}" th:if="${b.nome == 'Vale Transporte'}" th:value="${b.id}"
                      th:text="${b.nome}"></option>
                  </select>
                  <label>Valor</label>
                  <input type="text" name="beneficios[1].valor" class="form-control" placeholder="220,00">
                  <label>Status</label>
                  <select name="beneficios[1].status" class="form-control">
                    <option value="ATIVO">Ativo</option>
                    <option value="INATIVO">Inativo</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="beneficioValeRefeicao">Vale Refeição</label>
                  <select id="beneficioValeRefeicao" name="beneficios[2].beneficio.id" class="form-control">
                    <option value="">Selecione...</option>
                    <option th:each="b : ${beneficios}" th:if="${b.nome == 'Vale Refeição'}" th:value="${b.id}"
                      th:text="${b.nome}"></option>
                  </select>
                  <label>Valor</label>
                  <input type="text" name="beneficios[2].valor" class="form-control" placeholder="600,00">
                  <label>Status</label>
                  <select name="beneficios[2].status" class="form-control">
                    <option value="ATIVO">Ativo</option>
                    <option value="INATIVO">Inativo</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- Observações -->
            <div class="form-section">
              <h3><i class="fas fa-sticky-note"></i> Observações</h3>

              <div class="form-group">
                <label for="observacoes">Observações Gerais</label>
                <textarea id="observacoes" name="observacoes" rows="4" class="form-control"
                  placeholder="Informações adicionais sobre o colaborador..."></textarea>
              </div>
            </div>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-save"></i> Salvar Colaborador
            </button>
            <button type="reset" class="btn btn-secondary">
              <i class="fas fa-undo"></i> Limpar Formulário
            </button>
          </div>
        </form>
      </section>

      <footer th:replace="~{components/footer :: footer}"></footer>
    </main>
  </div>

  <script th:src="@{/js/script.js}"></script>
  <script th:src="@{/js/colaborador-form.js}"></script>
  <!-- jQuery necessário -->
  <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>

  <!-- Seu JS de notificações (que depende de jQuery) -->
  <script th:src="@{/js/notifications.js}" defer></script>

  <!-- Seu sidebar.js (se não depende de jQuery, pode ficar antes ou depois) -->
  <script src="/js/sidebar.js" defer></script>

</body>

</html>