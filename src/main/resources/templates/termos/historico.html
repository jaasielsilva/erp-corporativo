<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Histórico de Versões - ERP Corporativo</title>
    
    <!-- CSS padrão -->
    <link href="/css/style.css" rel="stylesheet">
    <link href="/css/sidebar.css" rel="stylesheet">
    <link href="/css/notifications.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <style>
        .content-area {
            padding: 20px;
            background-color: #f8f9fa;
            min-height: calc(100vh - 120px);
        }
        
        .page-header {
            background: linear-gradient(135deg, #6f42c1 0%, #e83e8c 100%);
            color: white;
            padding: 30px 0;
            margin-bottom: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }
        
        .version-timeline {
            position: relative;
            padding-left: 30px;
        }
        
        .version-timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(to bottom, #6f42c1, #e83e8c);
        }
        
        .version-item {
            position: relative;
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        
        .version-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .version-item::before {
            content: '';
            position: absolute;
            left: -37px;
            top: 25px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #6f42c1;
            border: 3px solid white;
            box-shadow: 0 0 0 3px #6f42c1;
        }
        
        .version-item.current::before {
            background: #28a745;
            box-shadow: 0 0 0 3px #28a745;
        }
        
        .version-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .version-number {
            font-size: 1.5rem;
            font-weight: bold;
            color: #6f42c1;
            margin-right: 15px;
        }
        
        .version-date {
            color: #6c757d;
            font-size: 0.9rem;
        }
        
        .version-status {
            margin-left: auto;
        }
        
        .badge-current {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
        }
        
        .badge-archived {
            background: linear-gradient(135deg, #6c757d, #495057);
            color: white;
        }
        
        .changes-list {
            margin-top: 20px;
        }
        
        .change-category {
            margin-bottom: 15px;
        }
        
        .change-category h6 {
            color: #6f42c1;
            font-weight: bold;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .change-item {
            background: #f8f9fa;
            padding: 8px 12px;
            border-radius: 6px;
            margin-bottom: 5px;
            border-left: 3px solid #6f42c1;
        }
        
        .action-btn {
            background: linear-gradient(135deg, #6f42c1 0%, #e83e8c 100%);
            border: none;
            color: white;
            padding: 12px 25px;
            border-radius: 8px;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            margin: 5px;
        }
        
        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(111, 66, 193, 0.4);
            color: white;
            text-decoration: none;
        }
        
        .stats-cards {
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-2px);
        }
        
        .stat-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: #6f42c1;
        }
        
        .stat-number {
            font-size: 1.8rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: #6c757d;
            font-size: 0.9rem;
        }
        
        .filter-section {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
    </style>
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside th:replace="~{components/sidebar :: sidebar}"></aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Topbar -->
            <header th:replace="~{components/topbar :: topbar}"></header>

            <!-- Content Area -->
            <section class="content-area">
                <div class="container-fluid">
                    
                    <!-- Page Header -->
                    <div class="page-header text-center">
                        <div class="container">
                            <h1><i class="fas fa-history me-3"></i>Histórico de Versões</h1>
                            <p class="mb-0">Acompanhe todas as alterações e atualizações dos Termos de Uso</p>
                        </div>
                    </div>

                    <!-- Statistics Cards -->
                    <div class="stats-cards">
                        <div class="row">
                            <div class="col-md-3">
                                <div class="stat-card">
                                    <div class="stat-icon">
                                        <i class="fas fa-file-alt"></i>
                                    </div>
                                    <div class="stat-number">2.1</div>
                                    <div class="stat-label">Versão Atual</div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="stat-card">
                                    <div class="stat-icon">
                                        <i class="fas fa-calendar-alt"></i>
                                    </div>
                                    <div class="stat-number">8</div>
                                    <div class="stat-label">Total de Versões</div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="stat-card">
                                    <div class="stat-icon">
                                        <i class="fas fa-clock"></i>
                                    </div>
                                    <div class="stat-number">15 Jan</div>
                                    <div class="stat-label">Última Atualização</div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="stat-card">
                                    <div class="stat-icon">
                                        <i class="fas fa-users"></i>
                                    </div>
                                    <div class="stat-number">1,247</div>
                                    <div class="stat-label">Usuários Aceitos</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Filter Section -->
                    <div class="filter-section">
                        <div class="row align-items-center">
                            <div class="col-md-6">
                                <h5 class="mb-0"><i class="fas fa-filter me-2"></i>Filtros</h5>
                            </div>
                            <div class="col-md-6">
                                <div class="d-flex gap-2 justify-content-end">
                                    <select class="form-select form-select-sm" style="width: auto;">
                                        <option>Todas as versões</option>
                                        <option>Versões ativas</option>
                                        <option>Versões arquivadas</option>
                                    </select>
                                    <select class="form-select form-select-sm" style="width: auto;">
                                        <option>Último ano</option>
                                        <option>Últimos 6 meses</option>
                                        <option>Últimos 3 meses</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Version Timeline -->
                    <div class="version-timeline">
                        
                        <!-- Version 2.1 - Current -->
                        <div class="version-item current">
                            <div class="version-header">
                                <div>
                                    <span class="version-number">Versão 2.1</span>
                                    <span class="version-date">15 de Janeiro de 2024</span>
                                </div>
                                <div class="version-status">
                                    <span class="badge badge-current">Atual</span>
                                </div>
                            </div>
                            
                            <p class="text-muted">Atualização importante com melhorias na seção de privacidade e conformidade com novas regulamentações.</p>
                            
                            <div class="changes-list">
                                <div class="change-category">
                                    <h6><i class="fas fa-plus-circle text-success"></i>Adições</h6>
                                    <div class="change-item">Nova seção sobre direitos dos usuários conforme LGPD</div>
                                    <div class="change-item">Adicionado processo de revogação de consentimento</div>
                                    <div class="change-item">Incluída política de retenção de dados</div>
                                </div>
                                
                                <div class="change-category">
                                    <h6><i class="fas fa-edit text-primary"></i>Modificações</h6>
                                    <div class="change-item">Atualizada seção de segurança de dados</div>
                                    <div class="change-item">Revisada política de compartilhamento de informações</div>
                                </div>
                            </div>
                        </div>

                        <!-- Version 2.0 -->
                        <div class="version-item">
                            <div class="version-header">
                                <div>
                                    <span class="version-number">Versão 2.0</span>
                                    <span class="version-date">10 de Outubro de 2023</span>
                                </div>
                                <div class="version-status">
                                    <span class="badge badge-archived">Arquivada</span>
                                </div>
                            </div>
                            
                            <p class="text-muted">Grande reformulação dos termos com foco na experiência do usuário e clareza das informações.</p>
                            
                            <div class="changes-list">
                                <div class="change-category">
                                    <h6><i class="fas fa-plus-circle text-success"></i>Adições</h6>
                                    <div class="change-item">Nova estrutura de navegação por seções</div>
                                    <div class="change-item">Adicionadas definições mais claras</div>
                                    <div class="change-item">Incluído glossário de termos técnicos</div>
                                </div>
                                
                                <div class="change-category">
                                    <h6><i class="fas fa-edit text-primary"></i>Modificações</h6>
                                    <div class="change-item">Linguagem simplificada para melhor compreensão</div>
                                    <div class="change-item">Reorganização das seções por importância</div>
                                </div>
                                
                                <div class="change-category">
                                    <h6><i class="fas fa-minus-circle text-danger"></i>Remoções</h6>
                                    <div class="change-item">Removidas cláusulas obsoletas</div>
                                </div>
                            </div>
                        </div>

                        <!-- Version 1.9 -->
                        <div class="version-item">
                            <div class="version-header">
                                <div>
                                    <span class="version-number">Versão 1.9</span>
                                    <span class="version-date">15 de Julho de 2023</span>
                                </div>
                                <div class="version-status">
                                    <span class="badge badge-archived">Arquivada</span>
                                </div>
                            </div>
                            
                            <p class="text-muted">Atualização de conformidade com novas regulamentações de proteção de dados.</p>
                            
                            <div class="changes-list">
                                <div class="change-category">
                                    <h6><i class="fas fa-edit text-primary"></i>Modificações</h6>
                                    <div class="change-item">Atualizada política de cookies</div>
                                    <div class="change-item">Revisados procedimentos de segurança</div>
                                    <div class="change-item">Melhorada seção de contato para DPO</div>
                                </div>
                            </div>
                        </div>

                        <!-- Version 1.8 -->
                        <div class="version-item">
                            <div class="version-header">
                                <div>
                                    <span class="version-number">Versão 1.8</span>
                                    <span class="version-date">20 de Março de 2023</span>
                                </div>
                                <div class="version-status">
                                    <span class="badge badge-archived">Arquivada</span>
                                </div>
                            </div>
                            
                            <p class="text-muted">Inclusão de novos módulos do sistema e atualização das responsabilidades.</p>
                            
                            <div class="changes-list">
                                <div class="change-category">
                                    <h6><i class="fas fa-plus-circle text-success"></i>Adições</h6>
                                    <div class="change-item">Adicionados termos para módulo de Marketing</div>
                                    <div class="change-item">Incluídas regras para módulo de Vendas</div>
                                </div>
                                
                                <div class="change-category">
                                    <h6><i class="fas fa-edit text-primary"></i>Modificações</h6>
                                    <div class="change-item">Atualizadas responsabilidades do usuário</div>
                                    <div class="change-item">Revisada seção de propriedade intelectual</div>
                                </div>
                            </div>
                        </div>

                        <!-- Version 1.7 -->
                        <div class="version-item">
                            <div class="version-header">
                                <div>
                                    <span class="version-number">Versão 1.7</span>
                                    <span class="version-date">10 de Dezembro de 2022</span>
                                </div>
                                <div class="version-status">
                                    <span class="badge badge-archived">Arquivada</span>
                                </div>
                            </div>
                            
                            <p class="text-muted">Melhorias na seção de limitações de responsabilidade e termos de rescisão.</p>
                            
                            <div class="changes-list">
                                <div class="change-category">
                                    <h6><i class="fas fa-edit text-primary"></i>Modificações</h6>
                                    <div class="change-item">Clarificadas limitações de responsabilidade</div>
                                    <div class="change-item">Atualizados procedimentos de rescisão</div>
                                    <div class="change-item">Melhorada seção de resolução de disputas</div>
                                </div>
                            </div>
                        </div>

                        <!-- Version 1.6 -->
                        <div class="version-item">
                            <div class="version-header">
                                <div>
                                    <span class="version-number">Versão 1.6</span>
                                    <span class="version-date">05 de Setembro de 2022</span>
                                </div>
                                <div class="version-status">
                                    <span class="badge badge-archived">Arquivada</span>
                                </div>
                            </div>
                            
                            <p class="text-muted">Primeira versão com conformidade total à LGPD.</p>
                            
                            <div class="changes-list">
                                <div class="change-category">
                                    <h6><i class="fas fa-plus-circle text-success"></i>Adições</h6>
                                    <div class="change-item">Implementação completa da LGPD</div>
                                    <div class="change-item">Adicionada seção de direitos do titular</div>
                                    <div class="change-item">Incluído processo de consentimento</div>
                                </div>
                            </div>
                        </div>

                        <!-- Version 1.5 -->
                        <div class="version-item">
                            <div class="version-header">
                                <div>
                                    <span class="version-number">Versão 1.5</span>
                                    <span class="version-date">20 de Junho de 2022</span>
                                </div>
                                <div class="version-status">
                                    <span class="badge badge-archived">Arquivada</span>
                                </div>
                            </div>
                            
                            <p class="text-muted">Atualização para incluir novos módulos de RH e Financeiro.</p>
                            
                            <div class="changes-list">
                                <div class="change-category">
                                    <h6><i class="fas fa-plus-circle text-success"></i>Adições</h6>
                                    <div class="change-item">Termos específicos para módulo de RH</div>
                                    <div class="change-item">Regras para processamento de dados financeiros</div>
                                </div>
                            </div>
                        </div>

                        <!-- Version 1.0 -->
                        <div class="version-item">
                            <div class="version-header">
                                <div>
                                    <span class="version-number">Versão 1.0</span>
                                    <span class="version-date">01 de Janeiro de 2022</span>
                                </div>
                                <div class="version-status">
                                    <span class="badge badge-archived">Arquivada</span>
                                </div>
                            </div>
                            
                            <p class="text-muted">Primeira versão dos Termos de Uso do Sistema ERP Corporativo.</p>
                            
                            <div class="changes-list">
                                <div class="change-category">
                                    <h6><i class="fas fa-star text-warning"></i>Lançamento Inicial</h6>
                                    <div class="change-item">Estrutura básica dos termos de uso</div>
                                    <div class="change-item">Definições fundamentais</div>
                                    <div class="change-item">Políticas de segurança iniciais</div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <!-- Action Buttons -->
                    <div class="text-center mt-5">
                        <a href="/termos" class="action-btn">
                            <i class="fas fa-arrow-left me-2"></i>Voltar
                        </a>
                        <button class="action-btn" onclick="exportHistory()">
                            <i class="fas fa-download me-2"></i>Exportar Histórico
                        </button>
                    </div>

                </div>
            </section>

            <!-- Footer -->
            <footer th:replace="~{components/footer :: footer}"></footer>
        </main>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="/js/sidebar.js" defer></script>
    <script th:src="@{/js/notifications.js}"></script>
    
    <script>
        // Export history function
        function exportHistory() {
            alert('Funcionalidade de exportação será implementada em breve!');
        }
        
        // Filter functionality
        document.querySelectorAll('.form-select').forEach(select => {
            select.addEventListener('change', function() {
                // Here you would implement filtering logic
                console.log('Filter changed:', this.value);
            });
        });
        
        // Animate version items on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);
        
        // Initially hide items and observe them
        document.querySelectorAll('.version-item').forEach((item, index) => {
            item.style.opacity = '0';
            item.style.transform = 'translateY(20px)';
            item.style.transition = `opacity 0.6s ease ${index * 0.1}s, transform 0.6s ease ${index * 0.1}s`;
            observer.observe(item);
        });
    </script>
</body>

</html>