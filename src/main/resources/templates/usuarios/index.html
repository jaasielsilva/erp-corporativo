<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Usuários - Painel do CEO</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet" />
  <!-- CSS -->
  <link th:href="@{/css/style.css}" rel="stylesheet" />
  <link th:href="@{/css/sidebar.css}" rel="stylesheet" />
  <link th:href="@{/css/notifications.css}" rel="stylesheet" />
  <link th:href="@{/css/chat.css}" rel="stylesheet" />

  <!-- Bootstrap CSS -->
  <link th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css}" rel="stylesheet" />

  
</head>

<body>
  <div class="app-container">
    <aside th:replace="~{components/sidebar :: sidebar}"></aside>

    <main class="main-content">
      <header th:replace="~{components/topbar :: topbar}"></header>

      <section class="content-area">
        <h1>Gestão de Usuários</h1>
        <h2>Escolha a ação desejada</h2>

        <!-- Estatísticas rápidas -->
        <div class="dashboard-cards">
          <div class="card-metric">
            <h4>Total de Usuários</h4>
            <p th:text="${totalUsuarios}">0</p>
          </div>
          <div class="card-metric">
            <h4>Ativos</h4>
            <p th:text="${ativos}">0</p>
          </div>
          <div class="card-metric">
            <h4>Administradores</h4>
            <p th:text="${administradores}">0</p>
          </div>
          <div class="card-metric">
            <h4>Bloqueados</h4>
            <p th:text="${bloqueados}">0</p>
          </div>
        </div>

        <!-- Divisor de seção -->
        <div class="section-divider">
          <hr />
          <h2>Ações Rápidas</h2>
        </div>

        <!-- Navegação de ações -->
        <div class="dashboard-cards">
          <a th:href="@{/usuarios}" class="link-card">
            <i class="fas fa-users"></i>
            Listar Usuários
          </a>
          <a th:href="@{/usuarios/cadastro}" class="link-card">
            <i class="fas fa-user-plus"></i>
            Novo Usuário
          </a>
          <a th:href="@{/usuarios/relatorio}" class="link-card">
            <i class="fas fa-chart-pie"></i>
            Relatório Geral
          </a>
        </div>

        <!-- Últimas ações com usuários -->
        <div class="info-section">
          <article class="card">
            <h3>Últimas Ações com Usuários</h3>
            <table class="table-list">
              <thead>
                <tr>
                  <th>Data</th>
                  <th>Ação</th>
                  <th>Usuário</th>
                  <th>Responsável</th>
                </tr>
              </thead>
              <tbody>
                <!-- Loop Thymeleaf -->
                <tr th:each="acao : ${ultimasAcoes}">
                  <td th:text="${#dates.format(acao.data, 'dd/MM/yyyy')}">00/00/0000</td>
                  <td th:text="${acao.acao}">Ação</td>
                  <td th:text="${acao.usuario}">usuario.exemplo</td>
                  <td th:text="${acao.responsavel}">responsavel.exemplo</td>
                </tr>
              </tbody>
            </table>
          </article>
        </div>

        <div class="info-section">
          <div class="card-tips">
            <strong>Dica:</strong> Revise as permissões de usuários inativos a cada 30 dias.
            <br />
            <strong>Melhoria:</strong> Configure autenticação de dois fatores para perfis administrativos.
          </div>
        </div>

      </section>

      <footer th:replace="~{components/footer :: footer}"></footer>
    </main>
  </div>

  <script th:src="@{/js/script.js}"></script>
  <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
  <script th:src="@{/js/notifications.js}"></script>
  <script th:src="@{/js/sidebar.js}"></script>

</body>

</html>
